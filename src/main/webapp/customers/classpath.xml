<?xml version="1.0" encoding="UTF-8"?>

<SelectService>
    <parameters>
        <list>
            <RequestParameter>
                <name>zipcode</name>
                <defaultValue></defaultValue>
            </RequestParameter>
            <RequestParameter>
                <name>state</name>
                <defaultValue></defaultValue>
            </RequestParameter>
            <RequestParameter>
                <name>discountCode</name>
                <defaultValue></defaultValue>
            </RequestParameter>
        </list>
    </parameters>
    <binding>
        <ClasspathInputBinding>
            <path>/data/customers.json</path>
            <input>
                <JSONInput />
            </input>
        </ClasspathInputBinding>
    </binding>
    <transformers>
        <list>
            <AndFilter>
                <filters>
                    <list>
                        <OrFilter>
                            <filters>
                                <list>
                                    <!-- This filter makes all values return if zipcode is not set-->
                                    <ParameterFilter>
                                        <filter>
                                            <EqualsFilter>
                                                <key>zipcode</key>
                                                <value></value>
                                            </EqualsFilter>
                                        </filter>
                                    </ParameterFilter>
                                    <EqualsFilter>
                                        <key>ZIP</key>
                                        <value>
                                            <ParameterValueGenerator>
                                                <name>zipcode</name>
                                            </ParameterValueGenerator>
                                        </value>
                                    </EqualsFilter>
                                </list>
                            </filters>
                        </OrFilter>
                        <OrFilter>
                            <filters>
                                <list>
                                    <!-- This filter makes all values return if state is not set-->
                                    <ParameterFilter>
                                        <filter>
                                            <EqualsFilter>
                                                <key>state</key>
                                                <value></value>
                                            </EqualsFilter>
                                        </filter>
                                    </ParameterFilter>
                                    <EqualsFilter>
                                        <key>STATE</key>
                                        <value>
                                            <ParameterValueGenerator>
                                                <name>state</name>
                                            </ParameterValueGenerator>
                                        </value>
                                    </EqualsFilter>
                                </list>
                            </filters>
                        </OrFilter>
                        <OrFilter>
                            <filters>
                                <list>
                                    <!-- This filter makes all values return if discountCode is not set-->
                                    <ParameterFilter>
                                        <filter>
                                            <EqualsFilter>
                                                <key>discountCode</key>
                                                <value></value>
                                            </EqualsFilter>
                                        </filter>
                                    </ParameterFilter>
                                    <EqualsFilter>
                                        <key>DISCOUNT_CODE</key>
                                        <value>
                                            <ParameterValueGenerator>
                                                <name>discountCode</name>
                                            </ParameterValueGenerator>
                                        </value>
                                    </EqualsFilter>
                                </list>
                            </filters>
                        </OrFilter>
                    </list>
                </filters>
            </AndFilter>
        </list>
    </transformers>
    <output>
        <JSONOutput />
    </output>
</SelectService>
